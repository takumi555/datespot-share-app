- visitor = notification.visitor
- visited = notification.visited
- post = notification.post

.user-view.clearfix
  = link_to account_path(visitor) do
    = image_tag visitor.avatar_image, class: 'msg_avatar'
    = visitor.username
  = 'さんが'    

  - case notification.action
    - when "follow" then
      = "あなたをフォローしました"
    - when "like" then
      = link_to 'あなたの投稿', notification.post
      = "にいいねしました"
    - when "comment" then
      - if notification.post.user_id == visited.id
        = link_to "あなたの投稿", notification.post
      - else
        %span
          = link_to post_path(notification.post) do
            = image_tag visitor.avatar_image, class: 'msg_avatar'
            %strong
              = notification.post.user.username + 'さんの投稿'
      = "にコメントしました"
      %p.text-muted.mb-0
        = Comment.find_by(id: notification.comment_id)&.content

  %span= "(#{time_ago_in_words(notification.created_at)}前)"
  %hr